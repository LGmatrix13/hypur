async function w(o){return await(await fetch(o,{method:"GET",headers:{"Content-Type":"text/html; charset=utf-8"}})).text()}window.HYPUR={LOADING:!1};function H(){window.HYPUR.LOADING=!0}function I(){window.HYPUR.LOADING=!1}var t={start:H,end:I};function p(){let o=Array.from(document.getElementsByTagName("a")),c=window.location.origin;o.filter((a)=>a.getAttribute("hypur-link")!=="false").forEach((a)=>{let s=a,x=s.getAttribute("href");if(x===null)throw new Error(`hypur link of id ${s.id} does not have an href attribute`);let d=new URL(x,c),A=s.cloneNode(!0);s.replaceWith(A),A.addEventListener("click",async(D)=>{t.start(),D.preventDefault();let G=await w(d);history.pushState(null,"",d.href),document.body.innerHTML=G,p(),t.end()})})}document.addEventListener("DOMContentLoaded",()=>{p()});window.addEventListener("popstate",async()=>{t.start();let o=new URL(window.location.href),c=await w(o);document.body.innerHTML=c,p(),t.end()});

window.HYPUR={LOADING:!1};function x(){window.HYPUR.LOADING=!0}function I(){window.HYPUR.LOADING=!1}var P={start:x,end:I};async function O(o){return await(await fetch(o,{method:"GET",headers:{"Content-Type":"text/html; charset=utf-8"}})).text()}var U={};function c(){let o=Array.from(document.getElementsByTagName("a")),A=window.location.origin;o.filter((D)=>D.getAttribute("hypur-link")!=="false").forEach((D)=>{let N=D,d=N.getAttribute("href");if(!d)throw new Error(`hypur link of id ${N.id} does not have an href attribute`);let G=new URL(d,A);N.addEventListener("click",async(w)=>{w.preventDefault(),P.start();let b=await O(G),L=new DOMParser().parseFromString(b,"text/html");document.title=L.title,document.body.innerHTML=L.body.innerHTML,window.history.pushState({pathname:G.pathname},"",G.pathname),U[G.pathname]={title:L.title,body:L.body},c(),P.end()})})}document.addEventListener("DOMContentLoaded",()=>{c()});window.addEventListener("popstate",(o)=>{if(o.state){let A=U[o.state.pathname];document.body.innerHTML=A.body.innerHTML,document.title=A.title,delete U[o.state.pathname]}c()});

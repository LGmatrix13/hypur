window.HYPUR={LOADING:!1};function c(){window.HYPUR.LOADING=!0}function d(){window.HYPUR.LOADING=!1}var N={start:c,end:d};async function w(o){return await(await fetch(o,{method:"GET",headers:{"Content-Type":"text/html; charset=utf-8"}})).text()}var O={};function P(){let o=Array.from(document.getElementsByTagName("a")),A=window.location.origin;o.filter((D)=>D.getAttribute("hypur-link")!=="false").forEach((D)=>{let L=D,Y=L.getAttribute("href");if(!Y)throw new Error(`hypur link of id ${L.id} does not have an href attribute`);let G=new URL(Y,A);L.addEventListener("click",async(R)=>{R.preventDefault(),N.start();let U=await w(G),I=new DOMParser().parseFromString(U,"text/html");document.title=I.title,document.body.innerHTML=I.body.innerHTML,window.history.pushState({pathname:G.pathname},"",G.pathname),O[G.pathname]={title:I.title,body:I.body},P(),N.end()})})}document.addEventListener("DOMContentLoaded",()=>{P()});window.addEventListener("popstate",(o)=>{if(o.state){let A=O[o.state.pathname];document.body.innerHTML=A.body.innerHTML,document.title=A.title,delete O[o.state.pathname]}P()});

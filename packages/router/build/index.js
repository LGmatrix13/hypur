window.HYPUR={LOADING:!1};function W(){window.HYPUR.LOADING=!0}function c(){window.HYPUR.LOADING=!1}var N={start:W,end:c};async function o(A){return await(await fetch(A,{method:"GET",headers:{"Content-Type":"text/html; charset=utf-8"}})).text()}var Y={},L=null;function R(){let A=Array.from(document.getElementsByTagName("a")),D=window.location.origin;A.filter((G)=>G.getAttribute("hypur-link")!=="false").forEach((G)=>{let I=G,U=I.getAttribute("href");if(!U)throw new Error(`hypur link of id ${I.id} does not have an href attribute`);let O=new URL(U,D);I.addEventListener("click",async(b)=>{b.preventDefault(),N.start();let x=await o(O),P=new DOMParser().parseFromString(x,"text/html");document.title=P.title,document.body.innerHTML=P.body.innerHTML,window.history.pushState({pathname:O.pathname},"",O.pathname),Y[O.pathname]={title:P.title,body:P.body},R(),N.end()})})}document.addEventListener("DOMContentLoaded",()=>{L=new Date,R()});document.addEventListener("mouseenter",async()=>{let A=new Date().getMilliseconds()-L.getMilliseconds(),D=new URL(window.location.href);if(A>300000){N.start();let G=await o(D),I=new DOMParser().parseFromString(G,"text/html");document.title=I.title,document.body.innerHTML=I.body.innerHTML,N.end()}});window.addEventListener("popstate",(A)=>{if(A.state){let D=Y[A.state.pathname];document.body.innerHTML=D.body.innerHTML,document.title=D.title,delete Y[A.state.pathname]}R()});
